digraph Q {
  node [shape=record];

  user_input   [label = "User Input"];
  nd_2   [label = "Node 2"];
  nd_3_a [label = "Above Right Node 3"];
  nd_3_l [label = "Left of Node 3"];
  nd_3   [label = "Node 3"];
  nd_3_r [label = "Right of Node 3"];
  nd_4   [label = "Node 4"];

  nd_3_a -> nd_3_r;
  user_input -> nd_2 -> nd_3 -> nd_4;

  subgraph cluster_R {
    {rank=same nd_3_l nd_3 nd_3_r}
    nd_3_l -> nd_3 -> nd_3_r [color=grey arrowhead=none];
  }
}